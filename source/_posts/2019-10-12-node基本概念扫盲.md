---
layout: default
title: node基本概念扫盲
description: node是什么？用node做什么？node的module概念与原理
categories: [node]
tags: [node]
---
# {{ page.title }}

## 1.node是什么？
node是一个js的运行时（runtime）
js由BOM DOM ECMASCRIPT组成，但是node由ECMASCRIPT和内部模块（http， fs等）组成

## 2.能用node做什么？
- 1.写脚本，比如webpack
- 2.做中间层，服务端渲染（vue react），实现前后端分离，解决跨域问题，实现数据格式化，实现高性能的web服务
- 3.用node做纯后端服务

## 3.node的全局对象
我们认为直接能访问的对象，就是全局的

### 1) global
node中每次执行只有一个global

global中的属性
- process 进程 当前我们应用的进程
   - process中有platform属性，'darwin': 代表mac  'win32': 代表windows
- Buffer 缓存区
- clearInterval setInterval
- clearTimeout setTimeout
- clearImmediate setImmediate 宏任务
- argv 代表用户传入的参数: []，第三个参数后面的参数，只能通过命令 + 文件名 + 参数的方式传参
   - 0 : node执行文件
   - 1 : 当前执行的文件
- chdir cwd() - 当前工作目录
- kill 杀死
- evn 环境变量
- nextTick node中的微任务

### 2) module, exports, require, __dirname, __filename
node中，每个文件都是一个模块，模块外面包了一层匿名函数,module, exports, require, __dirname, __filename这几个就是这个函数的参数，所以我们也认为是全局变量

默认声明的属性是不放在global上的

```javascript
// 每个模块中的this指向module.exports,所以如下
this === global // false
this === module.exports // true

(function () {
    // 模块中 匿名函数执行中的this指向global
    // 因为匿名函数执行之前，没有XXX.，所以this指向全局
    console.log(this); // global
})()

```

*浏览器中无法直接访问global对象，所以用window来代理*